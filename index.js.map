{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst apiKey = '51493488-12143edce1099078d847fb8bb';\n\nexport function getImagesByQuery(query) {\n  const encodedQuery = encodeURIComponent(query.trim());\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${encodedQuery}&orientation=horizontal&image_type=photo&safesearch=true`;\n\n  return axios.get(url).then(response => response.data.hits);\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet gallery = document.querySelector('.gallery');\nlet loader = document.querySelector('.loader');\n\nlet lightbox;\n\nexport function createGallery(images) {\n  let item = images\n    .map(elem => {\n      let imgUrl = elem.webformatURL;\n      let bigImg = elem.largeImageURL;\n      let likes = elem.likes;\n      let views = elem.views;\n      let comments = elem.comments;\n      let downloads = elem.downloads;\n\n      return `\n      <li class=\"gallery-item\">\n      <a href=\"${bigImg}\">\n        <img src=\"${imgUrl}\" alt=\"\" />\n        <ul class=\"img_info\">\n          <li>\n            <p class=\"info_title\">Likes</p>\n            <p>${likes}</p>\n          </li>\n          <li>\n            <p class=\"info_title\">Views</p>\n            <p>${views}</p>\n          </li>\n          <li>\n            <p class=\"info_title\">Comments</p>\n            <p>${comments}</p>\n          </li>\n          <li>\n            <p class=\"info_title\">Downloads</p>\n            <p>${downloads}</p>\n          </li>\n        </ul>\n      </a>\n    </li>\n      `;\n    })\n    .join('');\n\n  gallery.insertAdjacentHTML('afterbegin', item);\n\n  if (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery a', {\n      captions: true,\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n  } else {\n    lightbox.refresh();\n  }\n}\nexport function clearGallery() {\n  if (gallery) {\n    gallery.innerHTML = '';\n  }\n}\nexport function showLoader() {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.classList.remove('none');\n  }\n}\nexport function hideLoader() {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.classList.add('none');\n  }\n}\n","import { getImagesByQuery } from './js/pixabay-api.js';\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions.js';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const value = event.target.elements['search-text'].value.trim();\n\n  if (!value) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search term.',\n    });\n    return;\n  }\n\n  showLoader();\n  clearGallery();\n\n  getImagesByQuery(value)\n    .then(images => {\n      if (images.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n        return;\n      }\n\n      createGallery(images);\n    })\n    .catch(() => {\n      iziToast.error({\n        message: 'An error occurred while fetching images.',\n      });\n    })\n    .finally(() => {\n      hideLoader();\n    });\n});\n"],"names":["apiKey","getImagesByQuery","query","encodedQuery","url","axios","response","gallery","lightbox","createGallery","images","item","elem","imgUrl","bigImg","likes","views","comments","downloads","SimpleLightbox","clearGallery","showLoader","loader","hideLoader","form","event","value","iziToast"],"mappings":"owBAEA,MAAMA,EAAS,qCAER,SAASC,EAAiBC,EAAO,CACtC,MAAMC,EAAe,mBAAmBD,EAAM,KAAI,CAAE,EAC9CE,EAAM,gCAAgCJ,CAAM,MAAMG,CAAY,2DAEpE,OAAOE,EAAM,IAAID,CAAG,EAAE,KAAKE,GAAYA,EAAS,KAAK,IAAI,CAC3D,CCNA,IAAIC,EAAU,SAAS,cAAc,UAAU,EAClC,SAAS,cAAc,SAAS,EAE7C,IAAIC,EAEG,SAASC,EAAcC,EAAQ,CACpC,IAAIC,EAAOD,EACR,IAAIE,GAAQ,CACX,IAAIC,EAASD,EAAK,aACdE,EAASF,EAAK,cACdG,EAAQH,EAAK,MACbI,EAAQJ,EAAK,MACbK,EAAWL,EAAK,SAChBM,EAAYN,EAAK,UAErB,MAAO;AAAA;AAAA,iBAEIE,CAAM;AAAA,oBACHD,CAAM;AAAA;AAAA;AAAA;AAAA,iBAITE,CAAK;AAAA;AAAA;AAAA;AAAA,iBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,iBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,iBAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,OAMtB,CAAC,EACA,KAAK,EAAE,EAEVX,EAAQ,mBAAmB,aAAcI,CAAI,EAExCH,EAOHA,EAAS,QAAO,EANhBA,EAAW,IAAIW,EAAe,aAAc,CAC1C,SAAU,GACV,aAAc,MACd,aAAc,GACpB,CAAK,CAIL,CACO,SAASC,GAAe,CACzBb,IACFA,EAAQ,UAAY,GAExB,CACO,SAASc,GAAa,CAC3B,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC3CA,GACFA,EAAO,UAAU,OAAO,MAAM,CAElC,CACO,SAASC,GAAa,CAC3B,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC3CA,GACFA,EAAO,UAAU,IAAI,MAAM,CAE/B,CC/DA,MAAME,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAUC,GAAS,CACvCA,EAAM,eAAc,EAEpB,MAAMC,EAAQD,EAAM,OAAO,SAAS,aAAa,EAAE,MAAM,KAAI,EAE7D,GAAI,CAACC,EAAO,CACVC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,6BACf,CAAK,EACD,MACF,CAEAN,EAAU,EACVD,EAAY,EAEZnB,EAAiByB,CAAK,EACnB,KAAKhB,GAAU,CACd,GAAIA,EAAO,SAAW,EAAG,CACvBiB,EAAS,MAAM,CACb,QACE,0EACZ,CAAS,EACD,MACF,CAEAlB,EAAcC,CAAM,CACtB,CAAC,EACA,MAAM,IAAM,CACXiB,EAAS,MAAM,CACb,QAAS,0CACjB,CAAO,CACH,CAAC,EACA,QAAQ,IAAM,CACbJ,EAAU,CACZ,CAAC,CACL,CAAC"}